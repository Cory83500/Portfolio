<!DOCTYPE html>
<html lang="zxx" class="no-js">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="author" content="Corentin BESSONE">
    <meta name="description" content="Corentin BESSONE - Data Analyst">
    <meta name="keywords" content="data analyst, portfolio, personal website">
    <title>Corentin BESSONE - Data Analyst</title>     
    <link href="https://fonts.googleapis.com/css?family=Poppins:100,200,400,300,500,600,700" rel="stylesheet">
    <script type="text/javascript" src="js/trad.js"></script>
    <script type="text/javascript" src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>


    <!-- CSS -->
    <link rel="stylesheet" href="css/linearicons.css">
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="css/magnific-popup.css">
    <link rel="stylesheet" href="css/jquery-ui.css">
    <link rel="stylesheet" href="css/nice-select.css">
    <link rel="stylesheet" href="css/animate.min.css">
    <link rel="stylesheet" href="css/owl.carousel.css">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/google.css">
    <link rel="stylesheet" href="css/project.css">

    
</head>

<body>
    <header id="header">
        <div class="container main-menu">
            <div class="row align-items-center justify-content-between d-flex">
                <div class id="logo">
                    <a href="index.html"><h3>Corentin Bessone</h3></a>
                    <div id="google_translate_element"></div>                
                </div>
                <nav id="nav-menu-container">
                    <ul class="nav-menu">
                        <li><a href="index.html">Accueil</a></li>
                        <li><a href="about.html">À propos</a></li>
                        <li><a href="portfolio.html">Portfolio</a></li>
                        <li><a href="contact.html">Contact</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

<!-- Banner -->
<section class="about-banner">
    <div class="container">
        <div class="row d-flex align-items-center justify-content-center">
            <div class="about-content col-lg-12">
                <h1 class="text-white">
                    Lapage
                </h1>
            </div>
        </div>
    </div>
</section>

<!-- About Section -->
<section class="home-about">
    <div class="container">
            <!-- Personal Details -->
            <div class="contexte">
                <h1 class="text-uppercase">Analyse des ventes d'une librairie Python</h1><br>
                <p>Aujourd'hui, je commence ma mission en tant que consultant Data Analyst chez Lapage, une librairie généraliste en ligne très réputée. Je suis directement rattaché au service Marketing de l'entreprise.</p>
                <p>Lapage était à l'origine une librairie physique avec plusieurs points de vente. Cependant, en raison du succès de certains de ses produits et de l'engouement de ses clients, l'entreprise a pris la décision d'ouvrir un site de vente en ligne il y a deux ans.
                    Ma mission consiste à effectuer une analyse après ces deux années d'exercice en ligne. 
                    Nous souhaitons évaluer nos points forts, nos points faibles, les comportements des clients, et prendre des décisions stratégiques pour l'avenir.</p>
                <p>L'équipe Marketing que j'intègre est composée d'Annabelle, la responsable Marketing, de Julie, chargée d'études en marketing, et d'Antoine, chargé de produit marketing.</p>
                <p>Annabelle, la responsable Marketing, m'a envoyé un e-mail de bienvenue avec des instructions. Cette analyse se décompose en deux parties. La première partie concerne l'analyse des indicateurs de vente, comme demandée par Antoine. 
                    Les demandes d'Antoine sont détaillées dans l'e-mail qu'il a envoyé à Annabelle.</p>
                <p>La deuxième partie de l'analyse se concentre sur le comportement des clients en ligne, en comparaison avec les données provenant des librairies physiques. 
                    Julie a des demandes spécifiques à ce sujet, notamment l'analyse des corrélations entre le genre des clients et les catégories de livres achetés, ainsi que les liens entre l'âge des clients et le montant total des achats, la fréquence d'achat, la taille du panier moyen et les catégories de livres achetés.</p>
                <div class="bouton"><a href="#projet" class="primary-btn text-uppercase">Découvrez le code</a></div>
            </div>
        </div>
    </div>
</section>

<!-- Timeline Section -->
<section class="timeline pt-80 pb-80" id="project">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <h2>Dans le cadre de ce projet, j'ai utilisé Python</h2><br>

                <div class="timeline-item">
                    <h4>Mise en place de l'environement de travail et vérification des données</h4>
                    <pre>
                        import pandas as pd 
                        import numpy as np 
                        import matplotlib.pyplot as plt
                        from scipy import stats
                        import seaborn as sns 
                        from numpy import trapz
                        from scipy.stats import ttest_ind
                        customers = pd.read_csv("customers.csv")
                        products = pd.read_csv("products.csv")
                        transactions = pd.read_csv("transactions.csv")
                        # vérifictation des fichiers;

                        customers.describe()
                        products.describe()
                        products.drop(products.loc[products['price']< 0].index, inplace=True)
                        products.describe()
                        products.isnull().sum()
                        transactions.describe()
                        transactions.drop(transactions.loc[transactions['id_prod']== 'T_0'].index, inplace=True)
                        transactions['date'] = transactions['date'].str[0:10]
                        transactions.sort_values(["id_prod"]).tail()
                        transactions.isnull().sum()
                        # fusion de nos csv;
                        product_transac = pd.merge(transactions, customers)
                        data = pd.merge(product_transac, products, how= 'left', on= 'id_prod')
                        data.dropna(subset= ['price'], inplace= True)
                        data.shape
                    </pre>
                    <h4>Output : </h4>
                    <pre>
                        <p>Lecture et vérification des fichiers :</p>
                        <p>table customers</p>
                        <table border="1" class="dataframe">
                            <thead>
                            <tr style="text-align: right;">
                                <th></th>
                                <th>birth</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <th>count</th>
                                <td>8623.000000</td>
                            </tr>
                            <tr>
                                <th>mean</th>
                                <td>1978.280877</td>
                            </tr>
                            <tr>
                                <th>std</th>
                                <td>16.919535</td>
                            </tr>
                            <tr>
                                <th>min</th>
                                <td>1929.000000</td>
                            </tr>
                            <tr>
                                <th>25%</th>
                                <td>1966.000000</td>
                            </tr>
                            <tr>
                                <th>50%</th>
                                <td>1979.000000</td>
                            </tr>
                            <tr>
                                <th>75%</th>
                                <td>1992.000000</td>
                            </tr>
                            <tr>
                                <th>max</th>
                                <td>2004.000000</td>
                            </tr>
                            </tbody>
                        </table>
                        <p>Valeur manquante customers : </p>
                        client_id    0
                        sex          0
                        birth        0
                        dtype: int64
                        <p>table product :</p>
                        <table border="1" class="dataframe">
                            <thead>
                            <tr style="text-align: right;">
                                <th></th>
                                <th>price</th>
                                <th>categ</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <th>count</th>
                                <td>3287.000000</td>
                                <td>3287.000000</td>
                            </tr>
                            <tr>
                                <th>mean</th>
                                <td>21.856641</td>
                                <td>0.370246</td>
                            </tr>
                            <tr>
                                <th>std</th>
                                <td>29.847908</td>
                                <td>0.615387</td>
                            </tr>
                            <tr>
                                <th>min</th>
                                <td>-1.000000</td>
                                <td>0.000000</td>
                            </tr>
                            <tr>
                                <th>25%</th>
                                <td>6.990000</td>
                                <td>0.000000</td>
                            </tr>
                            <tr>
                                <th>50%</th>
                                <td>13.060000</td>
                                <td>0.000000</td>
                            </tr>
                            <tr>
                                <th>75%</th>
                                <td>22.990000</td>
                                <td>1.000000</td>
                            </tr>
                            <tr>
                                <th>max</th>
                                <td>300.000000</td>
                                <td>2.000000</td>
                            </tr>
                            </tbody>
                        </table>
                        <p>Supression valeur manquantes :</p>
                        <table border="1" class="dataframe">
                            <thead>
                            <tr style="text-align: right;">
                                <th></th>
                                <th>price</th>
                                <th>categ</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <th>count</th>
                                <td>3286.000000</td>
                                <td>3286.000000</td>
                            </tr>
                            <tr>
                                <th>mean</th>
                                <td>21.863597</td>
                                <td>0.370359</td>
                            </tr>
                            <tr>
                                <th>std</th>
                                <td>29.849786</td>
                                <td>0.615446</td>
                            </tr>
                            <tr>
                                <th>min</th>
                                <td>0.620000</td>
                                <td>0.000000</td>
                            </tr>
                            <tr>
                                <th>25%</th>
                                <td>6.990000</td>
                                <td>0.000000</td>
                            </tr>
                            <tr>
                                <th>50%</th>
                                <td>13.075000</td>
                                <td>0.000000</td>
                            </tr>
                            <tr>
                                <th>75%</th>
                                <td>22.990000</td>
                                <td>1.000000</td>
                            </tr>
                            <tr>
                                <th>max</th>
                                <td>300.000000</td>
                                <td>2.000000</td>
                            </tr>
                            </tbody>
                        </table>
                        <p>Verification qu'il n'y ai plus de valeurs manquantes :</p>
                        id_prod    0
                        price      0
                        categ      0
                        dtype: int64
                        <p>Table transaction :</p>
                        <table border="1" class="dataframe">
                            <thead>
                            <tr style="text-align: right;">
                                <th></th>
                                <th>id_prod</th>
                                <th>date</th>
                                <th>session_id</th>
                                <th>client_id</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <th>count</th>
                                <td>679532</td>
                                <td>679532</td>
                                <td>679532</td>
                                <td>679532</td>
                            </tr>
                            <tr>
                                <th>unique</th>
                                <td>3267</td>
                                <td>679371</td>
                                <td>342316</td>
                                <td>8602</td>
                            </tr>
                            <tr>
                                <th>top</th>
                                <td>1_369</td>
                                <td>test_2021-03-01 02:30:02.237413</td>
                                <td>s_0</td>
                                <td>c_1609</td>
                            </tr>
                            <tr>
                                <th>freq</th>
                                <td>2252</td>
                                <td>13</td>
                                <td>200</td>
                                <td>25488</td>
                            </tr>
                            </tbody>
                        </table>
                        <p>Valeur manquante :</p>
                        id_prod       0
                        date          0
                        session_id    0
                        client_id     0
                        dtype: int64
                        <p>Fusion des csv :</p>
                        (679111, 8)
                    </pre>
                </div>

                <!-- Question 1 -->
                <div class="timeline-item">
                    <h3>Les demandes d'Antoine : </h3><br>
                    <h4>Première demande</h4>
                    <p>1. Indicateurs et graphiques sur le chiffre d'affaires, y compris une analyse de son évolution dans le temps, avec une décomposition en moyenne mobile pour évaluer la tendance globale.</p>
                    <pre>
                        # Chiffre d'affaire par client;
                        CA_customers = data.groupby(['client_id','birth']).sum().reset_index().drop(['categ'], axis= 1).sort_values(by= "price")
                        CA_customers    
                    </pre>
                    <h4>Résultat de la première demande:</h4>
                    <pre>
                        <p>Le chiffre d'affaire par client.</p>
                        <table border="1" class="dataframe">
                            <thead>
                            <tr style="text-align: right;">
                                <th></th>
                                <th>client_id</th>
                                <th>birth</th>
                                <th>price</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <th>8151</th>
                                <td>c_8351</td>
                                <td>1968</td>
                                <td>6.31</td>
                            </tr>
                            <tr>
                                <th>7918</th>
                                <td>c_8140</td>
                                <td>1971</td>
                                <td>8.30</td>
                            </tr>
                            <tr>
                                <th>7889</th>
                                <td>c_8114</td>
                                <td>1962</td>
                                <td>9.98</td>
                            </tr>
                            <tr>
                                <th>1556</th>
                                <td>c_240</td>
                                <td>1998</td>
                                <td>11.06</td>
                            </tr>
                            <tr>
                                <th>4044</th>
                                <td>c_4648</td>
                                <td>2004</td>
                                <td>11.20</td>
                            </tr>
                            <tr>
                                <th>...</th>
                                <td>...</td>
                                <td>...</td>
                                <td>...</td>
                            </tr>
                            <tr>
                                <th>2513</th>
                                <td>c_3263</td>
                                <td>1985</td>
                                <td>5276.87</td>
                            </tr>
                            <tr>
                                <th>2724</th>
                                <td>c_3454</td>
                                <td>1969</td>
                                <td>113637.93</td>
                            </tr>
                            <tr>
                                <th>6337</th>
                                <td>c_6714</td>
                                <td>1968</td>
                                <td>153598.92</td>
                            </tr>
                            <tr>
                                <th>4388</th>
                                <td>c_4958</td>
                                <td>1999</td>
                                <td>289760.34</td>
                            </tr>
                            <tr>
                                <th>677</th>
                                <td>c_1609</td>
                                <td>1980</td>
                                <td>324033.35</td>
                            </tr>
                            </tbody>
                        </table>
                    </pre><br>

                    <pre>
                        # Chiffre d'affaire par client par catégorie;
                        data.groupby(['client_id','birth','categ']).sum().reset_index().sort_values(by='price')    
                    </pre>
                    <h4>Résultat de la première demande:</h4>
                    <pre>
                        <p>Le chiffre d'affaire par client par catégorie de livre.</p>
                        <table border="1" class="dataframe">
                            <thead>
                            <tr style="text-align: right;">
                                <th></th>
                                <th>client_id</th>
                                <th>birth</th>
                                <th>categ</th>
                                <th>price</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <th>2330</th>
                                <td>c_1912</td>
                                <td>2003</td>
                                <td>0.0</td>
                                <td>2.99</td>
                            </tr>
                            <tr>
                                <th>269</th>
                                <td>c_1101</td>
                                <td>2003</td>
                                <td>0.0</td>
                                <td>2.99</td>
                            </tr>
                            <tr>
                                <th>14762</th>
                                <td>c_673</td>
                                <td>1999</td>
                                <td>0.0</td>
                                <td>2.99</td>
                            </tr>
                            <tr>
                                <th>2427</th>
                                <td>c_1948</td>
                                <td>2004</td>
                                <td>0.0</td>
                                <td>2.99</td>
                            </tr>
                            <tr>
                                <th>9743</th>
                                <td>c_480</td>
                                <td>1993</td>
                                <td>0.0</td>
                                <td>2.99</td>
                            </tr>
                            <tr>
                                <th>...</th>
                                <td>...</td>
                                <td>...</td>
                                <td>...</td>
                                <td>...</td>
                            </tr>
                            <tr>
                                <th>14720</th>
                                <td>c_6714</td>
                                <td>1968</td>
                                <td>1.0</td>
                                <td>73246.54</td>
                            </tr>
                            <tr>
                                <th>6311</th>
                                <td>c_3454</td>
                                <td>1969</td>
                                <td>1.0</td>
                                <td>83583.02</td>
                            </tr>
                            <tr>
                                <th>1557</th>
                                <td>c_1609</td>
                                <td>1980</td>
                                <td>1.0</td>
                                <td>108084.90</td>
                            </tr>
                            <tr>
                                <th>1556</th>
                                <td>c_1609</td>
                                <td>1980</td>
                                <td>0.0</td>
                                <td>214447.24</td>
                            </tr>
                            <tr>
                                <th>10152</th>
                                <td>c_4958</td>
                                <td>1999</td>
                                <td>2.0</td>
                                <td>250336.34</td>
                            </tr>
                            </tbody>
                        </table>
                    </pre><br>

                    <pre>
                        # Chiffre d'affaire total;
                        CA = data.groupby(['client_id','birth']).sum().drop(['categ'], axis= 1)
                        CA_total = CA['price'].sum()
                        print("Le chiffre d'affaire total est de:",round(CA_total/1000000, 2),"M€")    
                    </pre>
                    <h4>Résultat de la première demande:</h4>
                    <pre>
                        Le chiffre d'affaire total est de: 11.85 M€
                    </pre><br>

                    <pre>
                        # CA par catégorie;
                        data.groupby(['categ'])[['price']].sum().reset_index().round(2)                    </pre>
                    <h4>Résultat de la première demande:</h4>
                    <pre>
                        Le chiffre d'affaire par catégorie de livre.
                        <table border="1" class="dataframe">
                            <thead>
                            <tr style="text-align: right;">
                                <th></th>
                                <th>categ</th>
                                <th>price</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <th>0</th>
                                <td>0.0</td>
                                <td>4419730.97</td>
                            </tr>
                            <tr>
                                <th>1</th>
                                <td>1.0</td>
                                <td>4653722.69</td>
                            </tr>
                            <tr>
                                <th>2</th>
                                <td>2.0</td>
                                <td>2780275.02</td>
                            </tr>
                            </tbody>
                        </table>
                    </pre><br>

                    <pre>
                        # chiffre d'afffaire par mois; 
                        CA_date_Mois = data.groupby(['date'])[['price']].sum().reset_index().round(2)
                        CA_date_Mois['date'] = CA_date_Mois['date'].str[0:7]
                        CA_date_Mois = CA_date_Mois.groupby(['date'])[['price']].sum().reset_index().round(2)
                        CA_date_Mois
                    </pre>
                    <h4>Résultat de la première demande:</h4>
                    <pre>
                        Le chiffre d'affaire par mois.
                        <table border="1" class="dataframe">
                            <thead>
                            <tr style="text-align: right;">
                                <th></th>
                                <th>date</th>
                                <th>price</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <th>0</th>
                                <td>2021-03</td>
                                <td>482440.61</td>
                            </tr>
                            <tr>
                                <th>1</th>
                                <td>2021-04</td>
                                <td>476109.30</td>
                            </tr>
                            <tr>
                                <th>2</th>
                                <td>2021-05</td>
                                <td>492943.47</td>
                            </tr>
                            <tr>
                                <th>3</th>
                                <td>2021-06</td>
                                <td>484088.56</td>
                            </tr>
                            <tr>
                                <th>4</th>
                                <td>2021-07</td>
                                <td>482835.40</td>
                            </tr>
                            <tr>
                                <th>5</th>
                                <td>2021-08</td>
                                <td>482284.79</td>
                            </tr>
                            <tr>
                                <th>6</th>
                                <td>2021-09</td>
                                <td>507240.68</td>
                            </tr>
                            <tr>
                                <th>7</th>
                                <td>2021-10</td>
                                <td>320798.74</td>
                            </tr>
                            <tr>
                                <th>8</th>
                                <td>2021-11</td>
                                <td>516167.73</td>
                            </tr>
                            <tr>
                                <th>9</th>
                                <td>2021-12</td>
                                <td>525917.28</td>
                            </tr>
                            <tr>
                                <th>10</th>
                                <td>2022-01</td>
                                <td>525338.99</td>
                            </tr>
                            <tr>
                                <th>11</th>
                                <td>2022-02</td>
                                <td>535571.50</td>
                            </tr>
                            <tr>
                                <th>12</th>
                                <td>2022-03</td>
                                <td>515456.53</td>
                            </tr>
                            <tr>
                                <th>13</th>
                                <td>2022-04</td>
                                <td>492998.94</td>
                            </tr>
                            <tr>
                                <th>14</th>
                                <td>2022-05</td>
                                <td>517132.60</td>
                            </tr>
                            <tr>
                                <th>15</th>
                                <td>2022-06</td>
                                <td>496016.12</td>
                            </tr>
                            <tr>
                                <th>16</th>
                                <td>2022-07</td>
                                <td>510783.12</td>
                            </tr>
                            <tr>
                                <th>17</th>
                                <td>2022-08</td>
                                <td>506467.27</td>
                            </tr>
                            <tr>
                                <th>18</th>
                                <td>2022-09</td>
                                <td>494114.53</td>
                            </tr>
                            <tr>
                                <th>19</th>
                                <td>2022-10</td>
                                <td>507917.77</td>
                            </tr>
                            <tr>
                                <th>20</th>
                                <td>2022-11</td>
                                <td>496664.94</td>
                            </tr>
                            <tr>
                                <th>21</th>
                                <td>2022-12</td>
                                <td>510219.50</td>
                            </tr>
                            <tr>
                                <th>22</th>
                                <td>2023-01</td>
                                <td>517540.55</td>
                            </tr>
                            <tr>
                                <th>23</th>
                                <td>2023-02</td>
                                <td>456679.76</td>
                            </tr>
                            </tbody>
                        </table>
                    </pre><br>

                    <pre>
                        #creation MM 7 jours;
                        CA_date_MM = data.groupby(['date'])[['price']].sum().reset_index().round(2)
                        CA_date_MM['date'] = CA_date_MM['date'].str[0:11]
                        CA_date_MM = CA_date_MM.groupby(['date'])[['price']].sum().reset_index().round(2)
                        CA_date_MM['7jours_MM'] = CA_date_MM.price.rolling(7).mean()
                        CA_date_MM.drop(CA_date_MM.loc[CA_date_MM['date']=='test_2021-0'].index, inplace=True)
                        
                        #creation du tableau par mois avec sum des MM;
                        CA_date_MM['date'] = CA_date_MM['date'].str[0:7]
                        CA_date_MM =CA_date_MM.groupby(['date'])[['price','7jours_MM']].sum().reset_index().round(2)
                        plt.figure(figsize= (20,7))
                        plt.plot(CA_date_MM['date'], CA_date_MM['price'], label= "Chiffre d'affaire")
                        plt.plot(CA_date_MM['date'], CA_date_MM['7jours_MM'], label= "Moyenne mobile 7 jours")
                        plt.legend()
                        plt.title("Courbe du CA par mois")
                        plt.xlabel("Mois")
                        plt.ylabel("CA")
                        plt.show()
                    </pre>
                    <h4>Résultat de la première demande:</h4>
                    <pre>
                        courbe du CA par mois.
                        <img src="img/output3.png" alt="">
                    </pre><br>

                </div>

                <!-- Question 2 -->
                <div class="timeline-item">
                    <h4>Seconde demande</h4>
                    <p>2. Analyse approfondie des références de produits pour identifier les produits les plus performants (tops) et ceux qui rencontrent moins de succès (flops). Cette analyse devrait également inclure une répartition par catégorie de produits.</p>
                    <pre>
                        ref_vente = data.groupby(['id_prod','categ'])[['price']].agg(['count']).reset_index().round(2).sort_values(by=('price', 'count'), ascending=False)
                        ref_vente
                    </pre>
                    <h4>Résultat de la seconde demande</h4>
                    <pre>
                        <table border="1" class="dataframe">
                            <thead>
                            <tr>
                                <th></th>
                                <th>id_prod</th>
                                <th>categ</th>
                                <th>price</th>
                            </tr>
                            <tr>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th>count</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <th>2589</th>
                                <td>1_369</td>
                                <td>1.0</td>
                                <td>2119</td>
                            </tr>
                            <tr>
                                <th>2642</th>
                                <td>1_417</td>
                                <td>1.0</td>
                                <td>2048</td>
                            </tr>
                            <tr>
                                <th>2639</th>
                                <td>1_414</td>
                                <td>1.0</td>
                                <td>2048</td>
                            </tr>
                            <tr>
                                <th>2731</th>
                                <td>1_498</td>
                                <td>1.0</td>
                                <td>1969</td>
                            </tr>
                            <tr>
                                <th>2651</th>
                                <td>1_425</td>
                                <td>1.0</td>
                                <td>1961</td>
                            </tr>
                            <tr>
                                <th>...</th>
                                <td>...</td>
                                <td>...</td>
                                <td>...</td>
                            </tr>
                            <tr>
                                <th>958</th>
                                <td>0_1871</td>
                                <td>0.0</td>
                                <td>1</td>
                            </tr>
                            <tr>
                                <th>664</th>
                                <td>0_1601</td>
                                <td>0.0</td>
                                <td>1</td>
                            </tr>
                            <tr>
                                <th>902</th>
                                <td>0_1820</td>
                                <td>0.0</td>
                                <td>1</td>
                            </tr>
                            <tr>
                                <th>697</th>
                                <td>0_1633</td>
                                <td>0.0</td>
                                <td>1</td>
                            </tr>
                            <tr>
                                <th>799</th>
                                <td>0_1726</td>
                                <td>0.0</td>
                                <td>1</td>
                            </tr>
                            </tbody>
                        </table>
                    </pre>

                    <pre>
                        #répartition top et flot pour catégorie;
                        ref_vente_categ0 = ref_vente.loc[ref_vente['categ'] == 0.0]
                        ref_vente_categ1 = ref_vente.loc[ref_vente['categ'] == 1.0]
                        ref_vente_categ2 = ref_vente.loc[ref_vente['categ'] == 2.0]
                        quantile0 = ref_vente_categ0['price','count'].quantile([0.25,0.75])
                        quantile1 = ref_vente_categ1['price','count'].quantile([0.25,0.75])
                        quantile2 = ref_vente_categ2['price','count'].quantile([0.25,0.75])
                        plt.figure(figsize=(7,12))
                        plt.bar(quantile0.index,quantile0.values,width = 0.1, color=(0.1, 0.1, 0.1, 0.1), edgecolor='blue', label= 'catégorie 0')
                        plt.bar(quantile1.index +0.2,quantile1.values,width = 0.1, color=(0.1, 0.1, 0.1, 0.1), edgecolor='red', label= 'catégorie 1')
                        plt.bar(quantile2.index+0.1,quantile2.values,width = 0.1, color=(0.1, 0.1, 0.1, 0.1), edgecolor='green', label= 'catégorie 2')
                        plt.legend()
                        plt.title("graphique des tops et flops par catégorie")
                        plt.xlabel("index")
                        plt.ylabel("top et flop")
                        plt.show()
                    </pre>
                    <h4>Résultat de la seconde demande</h4>
                    <pre>
                        <img src="img/output4.png" alt="">
                    </pre>
                </div>

                <!-- Question 3 -->
                <div class="timeline-item">
                    <h4>Troisième demande</h4>
                    <p>3. Fournir des informations sur les profils des clients, notamment des données relatives à la répartition du chiffre d'affaires entre les différents profils de clients. Il suggère d'utiliser une courbe de Lorenz pour visualiser cette répartition.</p>
                    <pre>
                        # CA par age;
                        data.insert(8, "age", (2023-data['birth']))
                        age = data.groupby(['age'])[['price']].agg(['sum']).reset_index().round(2)
                        age
                        # courbe lorenz;
                        depenses = age[age['price','sum']> 0]
                        dep = depenses['price','sum'].values
                        n = len(dep)
                        lorenz = np.cumsum(np.sort(dep)) / dep.sum()
                        lorenz = np.append([0],lorenz) 

                        plt.figure(figsize= (10,7))
                        xaxis = np.linspace(0,1,len(lorenz))
                        plt.plot(xaxis,lorenz, label= 'Courbe de Lorenz')
                        plt.plot(xaxis, xaxis, label= 'Parfaite répartition')
                        plt.title('Courbe de Lorenz')
                        plt.fill_between(xaxis, lorenz, xaxis, color = 'silver', label= 'air A')
                        plt.fill_between(xaxis, lorenz, color = 'bisque', label= 'air B')
                        plt.legend()
                        plt.show() 
                        airB = trapz(lorenz,xaxis)
                        air = trapz(xaxis,xaxis)
                        airA = air-airB
                        coef_gini = airA/(airA + airB)
                        print("Le coefficient de gini est de:",coef_gini )               
                    </pre>
                    <h4>Résultat de la troisième demande</h4>
                    <pre>
                        <p>CA par age</p>
                        <table border="1" class="dataframe">
                            <thead>
                            <tr>
                                <th></th>
                                <th>age</th>
                                <th>price</th>
                            </tr>
                            <tr>
                                <th></th>
                                <th></th>
                                <th>sum</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <th>0</th>
                                <td>19</td>
                                <td>609013.69</td>
                            </tr>
                            <tr>
                                <th>1</th>
                                <td>20</td>
                                <td>178195.78</td>
                            </tr>
                            <tr>
                                <th>2</th>
                                <td>21</td>
                                <td>184177.35</td>
                            </tr>
                            <tr>
                                <th>3</th>
                                <td>22</td>
                                <td>178497.70</td>
                            </tr>
                            <tr>
                                <th>4</th>
                                <td>23</td>
                                <td>165007.98</td>
                            </tr>
                            <tr>
                                <th>...</th>
                                <td>...</td>
                                <td>...</td>
                            </tr>
                            <tr>
                                <th>71</th>
                                <td>90</td>
                                <td>5254.35</td>
                            </tr>
                            <tr>
                                <th>72</th>
                                <td>91</td>
                                <td>5043.19</td>
                            </tr>
                            <tr>
                                <th>73</th>
                                <td>92</td>
                                <td>2815.45</td>
                            </tr>
                            <tr>
                                <th>74</th>
                                <td>93</td>
                                <td>4013.87</td>
                            </tr>
                            <tr>
                                <th>75</th>
                                <td>94</td>
                                <td>3221.85</td>
                            </tr>
                            </tbody>
                        </table>
                        <img src="img/output.5png.png" alt="">
                        Le coefficient de gini est de: 0.42521030553786904
                    </pre>
                </div>

                <!-- Question 3 suite -->
                <div class="timeline-item">
                    <p>Les demandes de Julie:</p>
                    <pre>
                        # on repere mathématiquement les outliers 

                        # méthode interquartille
                        # quartille q1, q3 et écart inter:
                         
                        price = sorted(tableau['price'])
                        q1 = round(np.percentile(price, 25))
                        print("Le premier quartille q1 est de:", q1)
                        q3 = round(np.percentile(price, 75))
                        print("Le troisieme quartille q3 est de:", q3)
                        iqr = q3 - q1
                        print("L'écart interquartille iqr est de:", iqr)
                        
                        # borne inf et sup: 
                        
                        lower_bound = q1 -(1.5 * iqr)
                        upper_bound = q3 +(1.5 * iqr)
                        print('les valeurs sont considéré comme abérante si elles sont compris hors de l intervalle, ',
                        lower_bound, upper_bound, 'selon la méthode interquartille')
                        
                        # mise en évidences du nbrs de valeurs abérantes: 
                        
                        tableau_outliers_up= tableau[tableau["price"]>upper_bound]
                        val_abe_up = tableau_outliers_up['price'].count()
                        tableau_outliers_down = tableau[tableau["price"]"<"lower_bound]
                        val_abe_down = tableau_outliers_down['price'].count()
                        print("Le nombre de valeurs abérantes est de:", val_abe_up + val_abe_down)                                       
                    </pre>
                    <h4>Résultat de la Question 3 suite </h4>
                    <pre>Le premier quartille q1 est de: 14
                        Le troisieme quartille q3 est de: 42
                        L'écart interquartille iqr est de: 28
                        les valeurs sont considéré comme abérante si elles sont compris hors de l intervalle,  -28.0 84.0 selon la méthode interquartille
                        Le nombre de valeurs abérantes est de: 32
                    </pre>
                </div>

                    <p>Question 3 suite :</p>
                    <pre>
                        #methode z score

                        mean = np.mean(tableau['price'])
                        std = np.std(tableau['price'])
                        print('la moyenne des prix est de:', mean)
                        print("l'écart type des prix est de:", std)
                        #valeur abérantes avec zscore:
                        limite = 3
                        limite_down = -3
                        outlier = []
                        for VA_abe in tableau['price']:
                            z = (VA_abe-mean)/std
                            if z > limite:
                                outlier.append(VA_abe)
                                
                            elif z < limite_down:
                                outlier.append(VA_abe)
                        
                        print('les valeurs abérantes sont:', outlier)
                        # affichage du nbrs de valeurs abérantes 
                        tableau['zscore']= (tableau['price']-mean)/std
                        val_sup = tableau[tableau['zscore']>3]
                        val_inf = tableau[tableau['zscore']<-3]
                        sup = val_sup['price'].count()
                        inf = val_inf['price'].count()
                        print("Les valeurs abérantes selon la méthode zscore sont de:",sup + inf)                
                    </pre>
                    <h4>Résultat de la Question 3 suite </h4>
                    <pre>
                        la moyenne des prix est de: 32.49313725490197
                        l'écart type des prix est de: 27.791042941002935
                        les valeurs abérantes sont: [225.0, 126.5, 176.0, 157.0, 137.0, 217.5, 124.8, 175.0, 191.3, 122.0, 135.0, 116.4, 121.0, 121.0]
                        Les valeurs abérantes selon la méthode zscore sont de: 14
                    </pre>
                </div>
            </div>
        </div>
    </div>
</section>

<footer class="footer-area section-gap">
    <div class="container">
        <div class="row">
            <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="single-footer-widget">
                    <h4>À propos de cette page</h4>
                    <p>Ce site a été créé pour présenter mes compétences en data analyst et mes projets en tant qu'entrepreneur. N'hésitez pas à me contacter pour toute opportunité de collaboration.</p>
                </div>
            </div>
            <div class="col-lg-6 col-md-6 col-sm-6">
                <div class="single-footer-widget">
                    <h4>Contact</h4>
                    <p>Email : corentin.bessone@hotmail.fr</p>
                    <p>Téléphone : (+33) 7-67-78-54-91 / (+61) 481-873-678</p>
                </div>
            </div>
        </div>
    </div>
</footer>
<script src="js/FAQ.js"></script>
<script src="js/projet.js"></script>
</body>
</html>
